(function(){"use strict";var t={4275:function(t,e,o){var n=o(9242),s=o(3396);const r={class:"app"};function i(t,e,o,n,i,a){const u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(u)])}var a={},u=o(89);const l=(0,u.Z)(a,[["render",i],["__scopeId","data-v-6aaa0b9f"]]);var p=l;const c={class:"btn"};function d(t,e,o,n,r,i){return(0,s.wg)(),(0,s.iD)("button",c,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var v={name:"my-button"};const f=(0,u.Z)(v,[["render",d],["__scopeId","data-v-46be7528"]]);var h=f;const m=["value"];function g(t,e,o,n,r,i){return(0,s.wg)(),(0,s.iD)("input",{type:"text",class:"input",value:o.value,onInput:e[0]||(e[0]=(...t)=>i.updateInput&&i.updateInput(...t))},null,40,m)}var y={name:"my-input",props:{value:[String,Number]},methods:{updateInput(t){this.$emit("update:value",t.target.value)}}};const w=(0,u.Z)(y,[["render",g],["__scopeId","data-v-1d9b44e9"]]);var b=w;function _(t,e,o,r,i,a){return o.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(...t)=>a.hideDialog&&a.hideDialog(...t))},[(0,s._)("div",{class:"dialog_content",onClick:e[0]||(e[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,s.WI)(t.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)}var k={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const D=(0,u.Z)(k,[["render",_],["__scopeId","data-v-aad2f580"]]);var C=D,P=[h,b,C];const O=(0,s._)("h1",null,"Posts page",-1),I=(0,s.Uk)("Create post");function W(t,e,o,n,r,i){const a=(0,s.up)("my-button"),u=(0,s.up)("post-form"),l=(0,s.up)("my-dialog"),p=(0,s.up)("post-list");return(0,s.wg)(),(0,s.iD)("div",null,[O,(0,s.Wm)(a,{onClick:i.showDialog},{default:(0,s.w5)((()=>[I])),_:1},8,["onClick"]),(0,s.Wm)(l,{show:r.dialogVisible,"onUpdate:show":e[0]||(e[0]=t=>r.dialogVisible=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onCreate:i.createPost},null,8,["onCreate"])])),_:1},8,["show"]),(0,s.Wm)(p,{posts:r.posts,onRemove:i.removePost},null,8,["posts","onRemove"])])}const $=t=>((0,s.dD)("data-v-179f71cd"),t=t(),(0,s.Cn)(),t),j={key:0},U=$((()=>(0,s._)("h3",null,"List of posts",-1))),Z={key:1,class:"emptyPosts"};function x(t,e,o,n,r,i){const a=(0,s.up)("post-item");return o.posts.length>0?((0,s.wg)(),(0,s.iD)("div",j,[U,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.posts,(e=>((0,s.wg)(),(0,s.j4)(a,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e)},null,8,["post","onRemove"])))),128))])])):((0,s.wg)(),(0,s.iD)("h2",Z,"No posts yet"))}var N=o(7139);const V=t=>((0,s.dD)("data-v-67dfa504"),t=t(),(0,s.Cn)(),t),M={class:"post"},R=V((()=>(0,s._)("strong",null,"Name:",-1))),S=V((()=>(0,s._)("strong",null,"Description:",-1))),T={class:"post_btns"},q=(0,s.Uk)("Open"),z=(0,s.Uk)("Delete post");function E(t,e,o,n,r,i){const a=(0,s.up)("my-button");return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",null,[(0,s._)("div",null,[R,(0,s.Uk)((0,N.zw)(o.post.title),1)]),(0,s._)("div",null,[S,(0,s.Uk)((0,N.zw)(o.post.body),1)])]),(0,s._)("div",T,[(0,s.Wm)(a,{onClick:e[0]||(e[0]=e=>t.$router.push(`/${o.post.id}`))},{default:(0,s.w5)((()=>[q])),_:1}),(0,s.Wm)(a,{onClick:e[1]||(e[1]=e=>t.$emit("remove",o.post))},{default:(0,s.w5)((()=>[z])),_:1})])])}var F={props:{post:{type:Object,required:!0}}};const B=(0,u.Z)(F,[["render",E],["__scopeId","data-v-67dfa504"]]);var L=B,A={components:{PostItem:L},props:{posts:{type:Array,required:!0}}};const H=(0,u.Z)(A,[["render",x],["__scopeId","data-v-179f71cd"]]);var J=H;const K=t=>((0,s.dD)("data-v-e2363a5c"),t=t(),(0,s.Cn)(),t),Y=K((()=>(0,s._)("h4",null,"Create a new post!",-1))),G=(0,s.Uk)("Create");function Q(t,e,o,r,i,a){const u=(0,s.up)("my-input"),l=(0,s.up)("my-button");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)((()=>{}),["prevent"]))},[Y,(0,s.Wm)(u,{value:i.post.title,"onUpdate:value":e[0]||(e[0]=t=>i.post.title=t),placeholder:"Name",type:"text"},null,8,["value"]),(0,s.Wm)(u,{value:i.post.body,"onUpdate:value":e[1]||(e[1]=t=>i.post.body=t),class:"input",placeholder:"Description",type:"text"},null,8,["value"]),(0,s.Wm)(l,{onClick:a.createPost,class:"create_btn"},{default:(0,s.w5)((()=>[G])),_:1},8,["onClick"])],32)}var X={data(){return{post:{title:"",body:""}}},methods:{createPost(){this.post.id=Date.now(),this.$emit("create",this.post),this.post={title:"",body:""}}}};const tt=(0,u.Z)(X,[["render",Q],["__scopeId","data-v-e2363a5c"]]);var et=tt,ot=o(6265),nt=o.n(ot),st={components:{PostForm:et,PostList:J,MyButton:h},data(){return{posts:[],dialogVisible:!1,page:1,limit:10}},methods:{createPost(t){this.dialogVisible=!1,this.posts=fetch("http://localhost:3001/posts",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>console.log(t)))},removePost(t){nt()["delete"](`http://localhost:3001/posts/${t.id}`),this.items=this.items.filter((t=>t.id!==id))},showDialog(){this.dialogVisible=!0},async fetchPosts(){try{const t=await nt().get("http://localhost:3001/posts");this.posts=t.data}catch(t){alert("Error!")}}},mounted(){this.fetchPosts()}};const rt=(0,u.Z)(st,[["render",W]]);var it=rt;function at(t,e,o,n,r,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h1",null,"Страница с ID = "+(0,N.zw)(t.$route.params.id),1)])}var ut={};const lt=(0,u.Z)(ut,[["render",at]]);var pt=lt,ct=o(2483);const dt=[{path:"/",component:it},{path:"/:id",component:pt}],vt=(0,ct.p7)({routes:dt,history:(0,ct.PO)("/")});var ft=vt;const ht=(0,n.ri)(p);P.forEach((t=>{ht.component(t.name,t)})),ht.use(ft).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,r){if(!n){var i=1/0;for(p=0;p<t.length;p++){n=t[p][0],s=t[p][1],r=t[p][2];for(var a=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(a=!1,r<i&&(i=r));if(a){t.splice(p--,1);var l=s();void 0!==l&&(e=l)}}return e}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[n,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,r,i=n[0],a=n[1],u=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(u)var p=u(o)}for(e&&e(n);l<i.length;l++)r=i[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(p)},n=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4275)}));n=o.O(n)})();
//# sourceMappingURL=app.c9faa0af.js.map